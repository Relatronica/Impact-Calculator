{"ast":null,"code":"var _jsxFileName = \"/Users/giuseppeaceto/Documents/GitHub/Impact-Calculator/src/components/GridCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useCallback, useRef, useEffect } from 'react';\nimport '../styles/GridCanvas.css';\n\n// Componente Cell memoizzato per evitare ri-render non necessari\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cell = /*#__PURE__*/React.memo(_c = ({\n  day,\n  hour,\n  action,\n  isHovered,\n  onDragOver,\n  onDragEnter,\n  onDragLeave,\n  onDrop,\n  onClick,\n  onContextMenu,\n  onMouseEnter,\n  onMouseLeave,\n  getActionIcon\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `grid-cell ${action ? 'has-action' : ''} ${isHovered ? 'hovered' : ''} ${action ? '' : 'drop-zone'}`,\n    onDragOver: onDragOver,\n    onDragEnter: onDragEnter,\n    onDragLeave: onDragLeave,\n    onDrop: onDrop,\n    onClick: onClick,\n    onContextMenu: onContextMenu,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    title: action ? `${action.azione} - Left/Right click to remove` : 'Drop action here',\n    children: action && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-in-cell\",\n      title: `${action.azione}\\n${action.esempio_divulgativo}\\nMetrics: ${action.metriche.join(', ')}\\nRight-click or click to remove`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-icon\",\n        children: getActionIcon(action)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-name\",\n        children: [action.azione.substring(0, 15), action.azione.length > 15 ? '...' : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-metrics-preview\",\n        children: action.metriche.slice(0, 2).map((metric, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"metric-tag\",\n          children: metric.includes('CO2') ? 'ðŸŒ±' : metric.includes('acqua') || metric.includes('Litri') ? 'ðŸ’§' : 'âš¡'\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}, (prevProps, nextProps) => {\n  var _prevProps$action, _nextProps$action;\n  // Ri-render solo se cambiano queste proprietÃ \n  return ((_prevProps$action = prevProps.action) === null || _prevProps$action === void 0 ? void 0 : _prevProps$action.id) === ((_nextProps$action = nextProps.action) === null || _nextProps$action === void 0 ? void 0 : _nextProps$action.id) && prevProps.isHovered === nextProps.isHovered;\n});\n_c2 = Cell;\nconst GridCanvas = ({\n  placedActions,\n  onActionPlace,\n  onActionRemove,\n  draggedAction\n}) => {\n  _s();\n  const [hoveredCell, setHoveredCell] = useState(null);\n  const [gridDimensions, setGridDimensions] = useState({\n    rows: 7,\n    cols: 24\n  });\n  const [actionHistory, setActionHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n\n  // Ref per accedere al valore corrente di placedActions senza dipendenze\n  const placedActionsRef = useRef(placedActions);\n  useEffect(() => {\n    placedActionsRef.current = placedActions;\n  }, [placedActions]);\n\n  // Generazione giorni e ore memoizzata\n  const {\n    days,\n    hours\n  } = useMemo(() => {\n    const daysArray = gridDimensions.rows === 7 ? ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'] : Array.from({\n      length: gridDimensions.rows\n    }, (_, i) => `Day ${i + 1}`);\n    const hoursArray = Array.from({\n      length: gridDimensions.cols\n    }, (_, i) => i);\n    return {\n      days: daysArray,\n      hours: hoursArray\n    };\n  }, [gridDimensions.rows, gridDimensions.cols]);\n\n  // Mappa delle azioni per posizione (O(1) lookup)\n  const actionsByPosition = useMemo(() => {\n    const map = {};\n    placedActions.forEach(action => {\n      const key = `${action.position.day}-${action.position.hour}`;\n      map[key] = action;\n    });\n    return map;\n  }, [placedActions]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n  }, []);\n\n  // Handler unificati con data attributes\n  const createCellHandler = useCallback(handler => e => {\n    const cell = e.currentTarget;\n    const day = cell.dataset.day;\n    const hour = parseInt(cell.dataset.hour);\n    handler(day, hour);\n  }, []);\n  const handleDragEnter = useCallback(createCellHandler((day, hour) => {\n    setHoveredCell({\n      day,\n      hour\n    });\n  }), [createCellHandler]);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setHoveredCell(null);\n    }\n  }, []);\n  const handleDrop = useCallback(createCellHandler((day, hour, e) => {\n    e.preventDefault();\n    setHoveredCell(null);\n\n    // Controllo collisione con lookup O(1)\n    if (actionsByPosition[`${day}-${hour}`]) {\n      return;\n    }\n    try {\n      const actionData = e.dataTransfer.getData('text/plain');\n      if (actionData) {\n        const action = JSON.parse(actionData);\n        const position = {\n          day,\n          hour\n        };\n\n        // Salva lo stato per undo\n        setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n        setHistoryIndex(prev => prev + 1);\n        onActionPlace(action, position);\n      }\n    } catch (error) {\n      console.error('Error parsing dropped action:', error);\n    }\n  }), [actionsByPosition, historyIndex, onActionPlace]);\n  const handleCellClick = useCallback(createCellHandler((day, hour) => {\n    const action = actionsByPosition[`${day}-${hour}`];\n    if (action) {\n      // Salva lo stato per undo\n      setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n      setHistoryIndex(prev => prev + 1);\n      onActionRemove(action.id);\n    }\n  }), [actionsByPosition, historyIndex, onActionRemove]);\n  const handleRightClick = useCallback(createCellHandler((day, hour, e) => {\n    e.preventDefault();\n    const action = actionsByPosition[`${day}-${hour}`];\n    if (action) {\n      // Salva lo stato per undo\n      setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n      setHistoryIndex(prev => prev + 1);\n      onActionRemove(action.id);\n    }\n  }), [actionsByPosition, historyIndex, onActionRemove]);\n  const handleUndo = useCallback(() => {\n    if (historyIndex >= 0) {\n      const previousState = actionHistory[historyIndex];\n      // Aggiorna le azioni attraverso il componente padre\n      placedActionsRef.current.forEach(action => {\n        if (!previousState.find(a => a.id === action.id)) {\n          onActionRemove(action.id);\n        }\n      });\n      previousState.forEach(action => {\n        if (!placedActionsRef.current.find(a => a.id === action.id)) {\n          onActionPlace(action, action.position);\n        }\n      });\n      setHistoryIndex(prev => prev - 1);\n    }\n  }, [actionHistory, historyIndex, onActionPlace, onActionRemove]);\n  const handleRedo = useCallback(() => {\n    if (historyIndex < actionHistory.length - 1) {\n      const nextState = actionHistory[historyIndex + 1];\n      setHistoryIndex(prev => prev + 1);\n      placedActionsRef.current.forEach(action => {\n        if (!nextState.find(a => a.id === action.id)) {\n          onActionRemove(action.id);\n        }\n      });\n      nextState.forEach(action => {\n        if (!placedActionsRef.current.find(a => a.id === action.id)) {\n          onActionPlace(action, action.position);\n        }\n      });\n    }\n  }, [actionHistory, historyIndex, onActionPlace, onActionRemove]);\n  const handleClearGrid = useCallback(() => {\n    if (placedActionsRef.current.length > 0) {\n      setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n      setHistoryIndex(prev => prev + 1);\n      placedActionsRef.current.forEach(action => onActionRemove(action.id));\n    }\n  }, [historyIndex, onActionRemove]);\n  const handleGridResize = useCallback((newRows, newCols) => {\n    setGridDimensions({\n      rows: newRows,\n      cols: newCols\n    });\n  }, []);\n  const getActionIcon = useCallback(action => {\n    const metriche = action.metriche;\n    if (metriche.some(m => m.toLowerCase().includes('co2'))) {\n      return 'ðŸŒ±';\n    } else if (metriche.some(m => m.toLowerCase().includes('acqua') || m.toLowerCase().includes('litri'))) {\n      return 'ðŸ’§';\n    } else if (metriche.some(m => m.toLowerCase().includes('energia') || m.toLowerCase().includes('kwh'))) {\n      return 'âš¡';\n    }\n    return 'ðŸ“‹';\n  }, []);\n\n  // Calcolo statistiche memoizzato\n  const gridStats = useMemo(() => {\n    const totalCells = days.length * hours.length;\n    const utilization = placedActions.length > 0 ? (placedActions.length / totalCells * 100).toFixed(1) : '0.0';\n    return {\n      totalCells,\n      utilization,\n      availableCells: totalCells - placedActions.length\n    };\n  }, [days.length, hours.length, placedActions.length]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid-canvas\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"canvas-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Interactive Action Grid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Drag actions here or click to place/remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dimension-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Rows:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"3\",\n                max: \"12\",\n                value: gridDimensions.rows,\n                onChange: e => handleGridResize(parseInt(e.target.value), gridDimensions.cols)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Cols:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"12\",\n                max: \"48\",\n                value: gridDimensions.cols,\n                onChange: e => handleGridResize(gridDimensions.rows, parseInt(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUndo,\n              disabled: historyIndex < 0,\n              title: \"Undo last action\",\n              children: \"\\u21B6 Undo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRedo,\n              disabled: historyIndex >= actionHistory.length - 1,\n              title: \"Redo last action\",\n              children: \"\\u21B7 Redo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClearGrid,\n              disabled: placedActions.length === 0,\n              title: \"Clear all actions\",\n              className: \"clear-btn\",\n              children: \"\\uD83D\\uDDD1 Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time-labels\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"corner-cell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), hours.map(hour => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time-label\",\n          children: [hour.toString().padStart(2, '0'), \":00\"]\n        }, hour, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), days.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-label\",\n          children: day\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), hours.map(hour => {\n          const key = `${day}-${hour}`;\n          const actionAtPosition = actionsByPosition[key];\n          const isHovered = (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.day) === day && (hoveredCell === null || hoveredCell === void 0 ? void 0 : hoveredCell.hour) === hour;\n          return /*#__PURE__*/_jsxDEV(Cell, {\n            \"data-day\": day,\n            \"data-hour\": hour,\n            day: day,\n            hour: hour,\n            action: actionAtPosition,\n            isHovered: isHovered,\n            onDragOver: handleDragOver,\n            onDragEnter: handleDragEnter,\n            onDragLeave: handleDragLeave,\n            onDrop: handleDrop,\n            onClick: handleCellClick,\n            onContextMenu: handleRightClick,\n            onMouseEnter: () => setHoveredCell({\n              day,\n              hour\n            }),\n            onMouseLeave: () => setHoveredCell(null),\n            getActionIcon: getActionIcon\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this);\n        })]\n      }, day, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"canvas-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Actions placed:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: placedActions.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Grid size:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [gridDimensions.rows, \" \\xD7 \", gridDimensions.cols]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Utilization:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [gridStats.utilization, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Available cells:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: gridStats.availableCells\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-legend\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"legend-icon\",\n            children: \"\\uD83C\\uDF31\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"CO2 Impact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"legend-icon\",\n            children: \"\\uD83D\\uDCA7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Water Usage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"legend-icon\",\n            children: \"\\u26A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Energy Consumption\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 244,\n    columnNumber: 5\n  }, this);\n};\n_s(GridCanvas, \"LjFk0up9QSyJslIWUWUeG7OVs7Y=\");\n_c3 = GridCanvas;\nexport default GridCanvas;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Cell$React.memo\");\n$RefreshReg$(_c2, \"Cell\");\n$RefreshReg$(_c3, \"GridCanvas\");","map":{"version":3,"names":["React","useState","useMemo","useCallback","useRef","useEffect","jsxDEV","_jsxDEV","Cell","memo","_c","day","hour","action","isHovered","onDragOver","onDragEnter","onDragLeave","onDrop","onClick","onContextMenu","onMouseEnter","onMouseLeave","getActionIcon","className","title","azione","children","esempio_divulgativo","metriche","join","fileName","_jsxFileName","lineNumber","columnNumber","substring","length","slice","map","metric","idx","includes","prevProps","nextProps","_prevProps$action","_nextProps$action","id","_c2","GridCanvas","placedActions","onActionPlace","onActionRemove","draggedAction","_s","hoveredCell","setHoveredCell","gridDimensions","setGridDimensions","rows","cols","actionHistory","setActionHistory","historyIndex","setHistoryIndex","placedActionsRef","current","days","hours","daysArray","Array","from","_","i","hoursArray","actionsByPosition","forEach","key","position","handleDragOver","e","preventDefault","dataTransfer","dropEffect","createCellHandler","handler","cell","currentTarget","dataset","parseInt","handleDragEnter","handleDragLeave","contains","relatedTarget","handleDrop","actionData","getData","JSON","parse","prev","error","console","handleCellClick","handleRightClick","handleUndo","previousState","find","a","handleRedo","nextState","handleClearGrid","handleGridResize","newRows","newCols","some","m","toLowerCase","gridStats","totalCells","utilization","toFixed","availableCells","type","min","max","value","onChange","target","disabled","toString","padStart","actionAtPosition","_c3","$RefreshReg$"],"sources":["/Users/giuseppeaceto/Documents/GitHub/Impact-Calculator/src/components/GridCanvas.js"],"sourcesContent":["import React, { useState, useMemo, useCallback, useRef, useEffect } from 'react';\nimport '../styles/GridCanvas.css';\n\n// Componente Cell memoizzato per evitare ri-render non necessari\nconst Cell = React.memo(({ \n  day, \n  hour,\n  action,\n  isHovered,\n  onDragOver,\n  onDragEnter,\n  onDragLeave,\n  onDrop,\n  onClick,\n  onContextMenu,\n  onMouseEnter,\n  onMouseLeave,\n  getActionIcon\n}) => {\n  return (\n    <div\n      className={`grid-cell ${action ? 'has-action' : ''} ${isHovered ? 'hovered' : ''} ${action ? '' : 'drop-zone'}`}\n      onDragOver={onDragOver}\n      onDragEnter={onDragEnter}\n      onDragLeave={onDragLeave}\n      onDrop={onDrop}\n      onClick={onClick}\n      onContextMenu={onContextMenu}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      title={action ? `${action.azione} - Left/Right click to remove` : 'Drop action here'}\n    >\n      {action && (\n        <div \n          className=\"action-in-cell\"\n          title={`${action.azione}\\n${action.esempio_divulgativo}\\nMetrics: ${action.metriche.join(', ')}\\nRight-click or click to remove`}\n        >\n          <div className=\"action-icon\">\n            {getActionIcon(action)}\n          </div>\n          <div className=\"action-name\">\n            {action.azione.substring(0, 15)}\n            {action.azione.length > 15 ? '...' : ''}\n          </div>\n          <div className=\"action-metrics-preview\">\n            {action.metriche.slice(0, 2).map((metric, idx) => (\n              <span key={idx} className=\"metric-tag\">\n                {metric.includes('CO2') ? 'ðŸŒ±' : metric.includes('acqua') || metric.includes('Litri') ? 'ðŸ’§' : 'âš¡'}\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}, (prevProps, nextProps) => {\n  // Ri-render solo se cambiano queste proprietÃ \n  return prevProps.action?.id === nextProps.action?.id && \n         prevProps.isHovered === nextProps.isHovered;\n});\n\nconst GridCanvas = ({ placedActions, onActionPlace, onActionRemove, draggedAction }) => {\n  const [hoveredCell, setHoveredCell] = useState(null);\n  const [gridDimensions, setGridDimensions] = useState({ rows: 7, cols: 24 });\n  const [actionHistory, setActionHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  \n  // Ref per accedere al valore corrente di placedActions senza dipendenze\n  const placedActionsRef = useRef(placedActions);\n  useEffect(() => {\n    placedActionsRef.current = placedActions;\n  }, [placedActions]);\n\n  // Generazione giorni e ore memoizzata\n  const { days, hours } = useMemo(() => {\n    const daysArray = gridDimensions.rows === 7 \n      ? ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n      : Array.from({ length: gridDimensions.rows }, (_, i) => `Day ${i + 1}`);\n    \n    const hoursArray = Array.from({ length: gridDimensions.cols }, (_, i) => i);\n    \n    return { days: daysArray, hours: hoursArray };\n  }, [gridDimensions.rows, gridDimensions.cols]);\n\n  // Mappa delle azioni per posizione (O(1) lookup)\n  const actionsByPosition = useMemo(() => {\n    const map = {};\n    placedActions.forEach(action => {\n      const key = `${action.position.day}-${action.position.hour}`;\n      map[key] = action;\n    });\n    return map;\n  }, [placedActions]);\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n  }, []);\n\n  // Handler unificati con data attributes\n  const createCellHandler = useCallback((handler) => (e) => {\n    const cell = e.currentTarget;\n    const day = cell.dataset.day;\n    const hour = parseInt(cell.dataset.hour);\n    handler(day, hour);\n  }, []);\n\n  const handleDragEnter = useCallback(createCellHandler((day, hour) => {\n    setHoveredCell({ day, hour });\n  }), [createCellHandler]);\n\n  const handleDragLeave = useCallback((e) => {\n    e.preventDefault();\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setHoveredCell(null);\n    }\n  }, []);\n\n  const handleDrop = useCallback(createCellHandler((day, hour, e) => {\n    e.preventDefault();\n    setHoveredCell(null);\n    \n    // Controllo collisione con lookup O(1)\n    if (actionsByPosition[`${day}-${hour}`]) {\n      return;\n    }\n\n    try {\n      const actionData = e.dataTransfer.getData('text/plain');\n      if (actionData) {\n        const action = JSON.parse(actionData);\n        const position = { day, hour };\n        \n        // Salva lo stato per undo\n        setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n        setHistoryIndex(prev => prev + 1);\n        \n        onActionPlace(action, position);\n      }\n    } catch (error) {\n      console.error('Error parsing dropped action:', error);\n    }\n  }), [actionsByPosition, historyIndex, onActionPlace]);\n\n  const handleCellClick = useCallback(createCellHandler((day, hour) => {\n    const action = actionsByPosition[`${day}-${hour}`];\n    if (action) {\n      // Salva lo stato per undo\n      setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n      setHistoryIndex(prev => prev + 1);\n      \n      onActionRemove(action.id);\n    }\n  }), [actionsByPosition, historyIndex, onActionRemove]);\n\n  const handleRightClick = useCallback(createCellHandler((day, hour, e) => {\n    e.preventDefault();\n    const action = actionsByPosition[`${day}-${hour}`];\n    if (action) {\n      // Salva lo stato per undo\n      setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n      setHistoryIndex(prev => prev + 1);\n      \n      onActionRemove(action.id);\n    }\n  }), [actionsByPosition, historyIndex, onActionRemove]);\n\n  const handleUndo = useCallback(() => {\n    if (historyIndex >= 0) {\n      const previousState = actionHistory[historyIndex];\n      // Aggiorna le azioni attraverso il componente padre\n      placedActionsRef.current.forEach(action => {\n        if (!previousState.find(a => a.id === action.id)) {\n          onActionRemove(action.id);\n        }\n      });\n      previousState.forEach(action => {\n        if (!placedActionsRef.current.find(a => a.id === action.id)) {\n          onActionPlace(action, action.position);\n        }\n      });\n      setHistoryIndex(prev => prev - 1);\n    }\n  }, [actionHistory, historyIndex, onActionPlace, onActionRemove]);\n\n  const handleRedo = useCallback(() => {\n    if (historyIndex < actionHistory.length - 1) {\n      const nextState = actionHistory[historyIndex + 1];\n      setHistoryIndex(prev => prev + 1);\n      \n      placedActionsRef.current.forEach(action => {\n        if (!nextState.find(a => a.id === action.id)) {\n          onActionRemove(action.id);\n        }\n      });\n      nextState.forEach(action => {\n        if (!placedActionsRef.current.find(a => a.id === action.id)) {\n          onActionPlace(action, action.position);\n        }\n      });\n    }\n  }, [actionHistory, historyIndex, onActionPlace, onActionRemove]);\n\n  const handleClearGrid = useCallback(() => {\n    if (placedActionsRef.current.length > 0) {\n      setActionHistory(prev => [...prev.slice(0, historyIndex + 1), [...placedActionsRef.current]]);\n      setHistoryIndex(prev => prev + 1);\n      \n      placedActionsRef.current.forEach(action => onActionRemove(action.id));\n    }\n  }, [historyIndex, onActionRemove]);\n\n  const handleGridResize = useCallback((newRows, newCols) => {\n    setGridDimensions({ rows: newRows, cols: newCols });\n  }, []);\n\n  const getActionIcon = useCallback((action) => {\n    const metriche = action.metriche;\n    if (metriche.some(m => m.toLowerCase().includes('co2'))) {\n      return 'ðŸŒ±';\n    } else if (metriche.some(m => m.toLowerCase().includes('acqua') || m.toLowerCase().includes('litri'))) {\n      return 'ðŸ’§';\n    } else if (metriche.some(m => m.toLowerCase().includes('energia') || m.toLowerCase().includes('kwh'))) {\n      return 'âš¡';\n    }\n    return 'ðŸ“‹';\n  }, []);\n\n  // Calcolo statistiche memoizzato\n  const gridStats = useMemo(() => {\n    const totalCells = days.length * hours.length;\n    const utilization = placedActions.length > 0 \n      ? (placedActions.length / totalCells * 100).toFixed(1)\n      : '0.0';\n    \n    return {\n      totalCells,\n      utilization,\n      availableCells: totalCells - placedActions.length\n    };\n  }, [days.length, hours.length, placedActions.length]);\n\n  return (\n    <div className=\"grid-canvas\">\n      <div className=\"canvas-header\">\n        <div className=\"header-content\">\n          <div className=\"title-section\">\n            <h2>Interactive Action Grid</h2>\n            <p>Drag actions here or click to place/remove</p>\n          </div>\n          \n          <div className=\"grid-controls\">\n            <div className=\"dimension-controls\">\n              <label>\n                Rows: \n                <input \n                  type=\"number\" \n                  min=\"3\" \n                  max=\"12\" \n                  value={gridDimensions.rows}\n                  onChange={(e) => handleGridResize(parseInt(e.target.value), gridDimensions.cols)}\n                />\n              </label>\n              <label>\n                Cols: \n                <input \n                  type=\"number\" \n                  min=\"12\" \n                  max=\"48\" \n                  value={gridDimensions.cols}\n                  onChange={(e) => handleGridResize(gridDimensions.rows, parseInt(e.target.value))}\n                />\n              </label>\n            </div>\n            \n            <div className=\"action-controls\">\n              <button \n                onClick={handleUndo} \n                disabled={historyIndex < 0}\n                title=\"Undo last action\"\n              >\n                â†¶ Undo\n              </button>\n              <button \n                onClick={handleRedo} \n                disabled={historyIndex >= actionHistory.length - 1}\n                title=\"Redo last action\"\n              >\n                â†· Redo\n              </button>\n              <button \n                onClick={handleClearGrid}\n                disabled={placedActions.length === 0}\n                title=\"Clear all actions\"\n                className=\"clear-btn\"\n              >\n                ðŸ—‘ Clear\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"grid-container\">\n        <div className=\"time-labels\">\n          <div className=\"corner-cell\"></div>\n          {hours.map(hour => (\n            <div key={hour} className=\"time-label\">\n              {hour.toString().padStart(2, '0')}:00\n            </div>\n          ))}\n        </div>\n        \n        {days.map(day => (\n          <div key={day} className=\"grid-row\">\n            <div className=\"day-label\">{day}</div>\n            {hours.map(hour => {\n              const key = `${day}-${hour}`;\n              const actionAtPosition = actionsByPosition[key];\n              const isHovered = hoveredCell?.day === day && hoveredCell?.hour === hour;\n              \n              return (\n                <Cell\n                  key={key}\n                  data-day={day}\n                  data-hour={hour}\n                  day={day}\n                  hour={hour}\n                  action={actionAtPosition}\n                  isHovered={isHovered}\n                  onDragOver={handleDragOver}\n                  onDragEnter={handleDragEnter}\n                  onDragLeave={handleDragLeave}\n                  onDrop={handleDrop}\n                  onClick={handleCellClick}\n                  onContextMenu={handleRightClick}\n                  onMouseEnter={() => setHoveredCell({ day, hour })}\n                  onMouseLeave={() => setHoveredCell(null)}\n                  getActionIcon={getActionIcon}\n                />\n              );\n            })}\n          </div>\n        ))}\n      </div>\n      \n      <div className=\"canvas-footer\">\n        <div className=\"grid-stats\">\n          <div className=\"stat-group\">\n            <span className=\"stat-label\">Actions placed:</span>\n            <span className=\"stat-value\">{placedActions.length}</span>\n          </div>\n          <div className=\"stat-group\">\n            <span className=\"stat-label\">Grid size:</span>\n            <span className=\"stat-value\">{gridDimensions.rows} Ã— {gridDimensions.cols}</span>\n          </div>\n          <div className=\"stat-group\">\n            <span className=\"stat-label\">Utilization:</span>\n            <span className=\"stat-value\">\n              {gridStats.utilization}%\n            </span>\n          </div>\n          <div className=\"stat-group\">\n            <span className=\"stat-label\">Available cells:</span>\n            <span className=\"stat-value\">{gridStats.availableCells}</span>\n          </div>\n        </div>\n        \n        <div className=\"grid-legend\">\n          <div className=\"legend-item\">\n            <span className=\"legend-icon\">ðŸŒ±</span>\n            <span>CO2 Impact</span>\n          </div>\n          <div className=\"legend-item\">\n            <span className=\"legend-icon\">ðŸ’§</span>\n            <span>Water Usage</span>\n          </div>\n          <div className=\"legend-item\">\n            <span className=\"legend-icon\">âš¡</span>\n            <span>Energy Consumption</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GridCanvas;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,OAAO,EAAEC,WAAW,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChF,OAAO,0BAA0B;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,IAAI,gBAAGR,KAAK,CAACS,IAAI,CAAAC,EAAA,GAACA,CAAC;EACvBC,GAAG;EACHC,IAAI;EACJC,MAAM;EACNC,SAAS;EACTC,UAAU;EACVC,WAAW;EACXC,WAAW;EACXC,MAAM;EACNC,OAAO;EACPC,aAAa;EACbC,YAAY;EACZC,YAAY;EACZC;AACF,CAAC,KAAK;EACJ,oBACEhB,OAAA;IACEiB,SAAS,EAAE,aAAaX,MAAM,GAAG,YAAY,GAAG,EAAE,IAAIC,SAAS,GAAG,SAAS,GAAG,EAAE,IAAID,MAAM,GAAG,EAAE,GAAG,WAAW,EAAG;IAChHE,UAAU,EAAEA,UAAW;IACvBC,WAAW,EAAEA,WAAY;IACzBC,WAAW,EAAEA,WAAY;IACzBC,MAAM,EAAEA,MAAO;IACfC,OAAO,EAAEA,OAAQ;IACjBC,aAAa,EAAEA,aAAc;IAC7BC,YAAY,EAAEA,YAAa;IAC3BC,YAAY,EAAEA,YAAa;IAC3BG,KAAK,EAAEZ,MAAM,GAAG,GAAGA,MAAM,CAACa,MAAM,+BAA+B,GAAG,kBAAmB;IAAAC,QAAA,EAEpFd,MAAM,iBACLN,OAAA;MACEiB,SAAS,EAAC,gBAAgB;MAC1BC,KAAK,EAAE,GAAGZ,MAAM,CAACa,MAAM,KAAKb,MAAM,CAACe,mBAAmB,cAAcf,MAAM,CAACgB,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC,kCAAmC;MAAAH,QAAA,gBAEjIpB,OAAA;QAAKiB,SAAS,EAAC,aAAa;QAAAG,QAAA,EACzBJ,aAAa,CAACV,MAAM;MAAC;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACN3B,OAAA;QAAKiB,SAAS,EAAC,aAAa;QAAAG,QAAA,GACzBd,MAAM,CAACa,MAAM,CAACS,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,EAC9BtB,MAAM,CAACa,MAAM,CAACU,MAAM,GAAG,EAAE,GAAG,KAAK,GAAG,EAAE;MAAA;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC,eACN3B,OAAA;QAAKiB,SAAS,EAAC,wBAAwB;QAAAG,QAAA,EACpCd,MAAM,CAACgB,QAAQ,CAACQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,MAAM,EAAEC,GAAG,kBAC3CjC,OAAA;UAAgBiB,SAAS,EAAC,YAAY;UAAAG,QAAA,EACnCY,MAAM,CAACE,QAAQ,CAAC,KAAK,CAAC,GAAG,IAAI,GAAGF,MAAM,CAACE,QAAQ,CAAC,OAAO,CAAC,IAAIF,MAAM,CAACE,QAAQ,CAAC,OAAO,CAAC,GAAG,IAAI,GAAG;QAAG,GADzFD,GAAG;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAER,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC,EAAE,CAACQ,SAAS,EAAEC,SAAS,KAAK;EAAA,IAAAC,iBAAA,EAAAC,iBAAA;EAC3B;EACA,OAAO,EAAAD,iBAAA,GAAAF,SAAS,CAAC7B,MAAM,cAAA+B,iBAAA,uBAAhBA,iBAAA,CAAkBE,EAAE,QAAAD,iBAAA,GAAKF,SAAS,CAAC9B,MAAM,cAAAgC,iBAAA,uBAAhBA,iBAAA,CAAkBC,EAAE,KAC7CJ,SAAS,CAAC5B,SAAS,KAAK6B,SAAS,CAAC7B,SAAS;AACpD,CAAC,CAAC;AAACiC,GAAA,GAvDGvC,IAAI;AAyDV,MAAMwC,UAAU,GAAGA,CAAC;EAAEC,aAAa;EAAEC,aAAa;EAAEC,cAAc;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EACtF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGtD,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACuD,cAAc,EAAEC,iBAAiB,CAAC,GAAGxD,QAAQ,CAAC;IAAEyD,IAAI,EAAE,CAAC;IAAEC,IAAI,EAAE;EAAG,CAAC,CAAC;EAC3E,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG5D,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC6D,YAAY,EAAEC,eAAe,CAAC,GAAG9D,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAEpD;EACA,MAAM+D,gBAAgB,GAAG5D,MAAM,CAAC6C,aAAa,CAAC;EAC9C5C,SAAS,CAAC,MAAM;IACd2D,gBAAgB,CAACC,OAAO,GAAGhB,aAAa;EAC1C,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;;EAEnB;EACA,MAAM;IAAEiB,IAAI;IAAEC;EAAM,CAAC,GAAGjE,OAAO,CAAC,MAAM;IACpC,MAAMkE,SAAS,GAAGZ,cAAc,CAACE,IAAI,KAAK,CAAC,GACvC,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,GACjDW,KAAK,CAACC,IAAI,CAAC;MAAElC,MAAM,EAAEoB,cAAc,CAACE;IAAK,CAAC,EAAE,CAACa,CAAC,EAAEC,CAAC,KAAK,OAAOA,CAAC,GAAG,CAAC,EAAE,CAAC;IAEzE,MAAMC,UAAU,GAAGJ,KAAK,CAACC,IAAI,CAAC;MAAElC,MAAM,EAAEoB,cAAc,CAACG;IAAK,CAAC,EAAE,CAACY,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC;IAE3E,OAAO;MAAEN,IAAI,EAAEE,SAAS;MAAED,KAAK,EAAEM;IAAW,CAAC;EAC/C,CAAC,EAAE,CAACjB,cAAc,CAACE,IAAI,EAAEF,cAAc,CAACG,IAAI,CAAC,CAAC;;EAE9C;EACA,MAAMe,iBAAiB,GAAGxE,OAAO,CAAC,MAAM;IACtC,MAAMoC,GAAG,GAAG,CAAC,CAAC;IACdW,aAAa,CAAC0B,OAAO,CAAC9D,MAAM,IAAI;MAC9B,MAAM+D,GAAG,GAAG,GAAG/D,MAAM,CAACgE,QAAQ,CAAClE,GAAG,IAAIE,MAAM,CAACgE,QAAQ,CAACjE,IAAI,EAAE;MAC5D0B,GAAG,CAACsC,GAAG,CAAC,GAAG/D,MAAM;IACnB,CAAC,CAAC;IACF,OAAOyB,GAAG;EACZ,CAAC,EAAE,CAACW,aAAa,CAAC,CAAC;EAEnB,MAAM6B,cAAc,GAAG3E,WAAW,CAAE4E,CAAC,IAAK;IACxCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACE,YAAY,CAACC,UAAU,GAAG,MAAM;EACpC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,iBAAiB,GAAGhF,WAAW,CAAEiF,OAAO,IAAML,CAAC,IAAK;IACxD,MAAMM,IAAI,GAAGN,CAAC,CAACO,aAAa;IAC5B,MAAM3E,GAAG,GAAG0E,IAAI,CAACE,OAAO,CAAC5E,GAAG;IAC5B,MAAMC,IAAI,GAAG4E,QAAQ,CAACH,IAAI,CAACE,OAAO,CAAC3E,IAAI,CAAC;IACxCwE,OAAO,CAACzE,GAAG,EAAEC,IAAI,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM6E,eAAe,GAAGtF,WAAW,CAACgF,iBAAiB,CAAC,CAACxE,GAAG,EAAEC,IAAI,KAAK;IACnE2C,cAAc,CAAC;MAAE5C,GAAG;MAAEC;IAAK,CAAC,CAAC;EAC/B,CAAC,CAAC,EAAE,CAACuE,iBAAiB,CAAC,CAAC;EAExB,MAAMO,eAAe,GAAGvF,WAAW,CAAE4E,CAAC,IAAK;IACzCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACD,CAAC,CAACO,aAAa,CAACK,QAAQ,CAACZ,CAAC,CAACa,aAAa,CAAC,EAAE;MAC9CrC,cAAc,CAAC,IAAI,CAAC;IACtB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMsC,UAAU,GAAG1F,WAAW,CAACgF,iBAAiB,CAAC,CAACxE,GAAG,EAAEC,IAAI,EAAEmE,CAAC,KAAK;IACjEA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBzB,cAAc,CAAC,IAAI,CAAC;;IAEpB;IACA,IAAImB,iBAAiB,CAAC,GAAG/D,GAAG,IAAIC,IAAI,EAAE,CAAC,EAAE;MACvC;IACF;IAEA,IAAI;MACF,MAAMkF,UAAU,GAAGf,CAAC,CAACE,YAAY,CAACc,OAAO,CAAC,YAAY,CAAC;MACvD,IAAID,UAAU,EAAE;QACd,MAAMjF,MAAM,GAAGmF,IAAI,CAACC,KAAK,CAACH,UAAU,CAAC;QACrC,MAAMjB,QAAQ,GAAG;UAAElE,GAAG;UAAEC;QAAK,CAAC;;QAE9B;QACAiD,gBAAgB,CAACqC,IAAI,IAAI,CAAC,GAAGA,IAAI,CAAC7D,KAAK,CAAC,CAAC,EAAEyB,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGE,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC;QAC7FF,eAAe,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;QAEjChD,aAAa,CAACrC,MAAM,EAAEgE,QAAQ,CAAC;MACjC;IACF,CAAC,CAAC,OAAOsB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD;EACF,CAAC,CAAC,EAAE,CAACzB,iBAAiB,EAAEZ,YAAY,EAAEZ,aAAa,CAAC,CAAC;EAErD,MAAMmD,eAAe,GAAGlG,WAAW,CAACgF,iBAAiB,CAAC,CAACxE,GAAG,EAAEC,IAAI,KAAK;IACnE,MAAMC,MAAM,GAAG6D,iBAAiB,CAAC,GAAG/D,GAAG,IAAIC,IAAI,EAAE,CAAC;IAClD,IAAIC,MAAM,EAAE;MACV;MACAgD,gBAAgB,CAACqC,IAAI,IAAI,CAAC,GAAGA,IAAI,CAAC7D,KAAK,CAAC,CAAC,EAAEyB,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGE,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC;MAC7FF,eAAe,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;MAEjC/C,cAAc,CAACtC,MAAM,CAACiC,EAAE,CAAC;IAC3B;EACF,CAAC,CAAC,EAAE,CAAC4B,iBAAiB,EAAEZ,YAAY,EAAEX,cAAc,CAAC,CAAC;EAEtD,MAAMmD,gBAAgB,GAAGnG,WAAW,CAACgF,iBAAiB,CAAC,CAACxE,GAAG,EAAEC,IAAI,EAAEmE,CAAC,KAAK;IACvEA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMnE,MAAM,GAAG6D,iBAAiB,CAAC,GAAG/D,GAAG,IAAIC,IAAI,EAAE,CAAC;IAClD,IAAIC,MAAM,EAAE;MACV;MACAgD,gBAAgB,CAACqC,IAAI,IAAI,CAAC,GAAGA,IAAI,CAAC7D,KAAK,CAAC,CAAC,EAAEyB,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGE,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC;MAC7FF,eAAe,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;MAEjC/C,cAAc,CAACtC,MAAM,CAACiC,EAAE,CAAC;IAC3B;EACF,CAAC,CAAC,EAAE,CAAC4B,iBAAiB,EAAEZ,YAAY,EAAEX,cAAc,CAAC,CAAC;EAEtD,MAAMoD,UAAU,GAAGpG,WAAW,CAAC,MAAM;IACnC,IAAI2D,YAAY,IAAI,CAAC,EAAE;MACrB,MAAM0C,aAAa,GAAG5C,aAAa,CAACE,YAAY,CAAC;MACjD;MACAE,gBAAgB,CAACC,OAAO,CAACU,OAAO,CAAC9D,MAAM,IAAI;QACzC,IAAI,CAAC2F,aAAa,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC5D,EAAE,KAAKjC,MAAM,CAACiC,EAAE,CAAC,EAAE;UAChDK,cAAc,CAACtC,MAAM,CAACiC,EAAE,CAAC;QAC3B;MACF,CAAC,CAAC;MACF0D,aAAa,CAAC7B,OAAO,CAAC9D,MAAM,IAAI;QAC9B,IAAI,CAACmD,gBAAgB,CAACC,OAAO,CAACwC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC5D,EAAE,KAAKjC,MAAM,CAACiC,EAAE,CAAC,EAAE;UAC3DI,aAAa,CAACrC,MAAM,EAAEA,MAAM,CAACgE,QAAQ,CAAC;QACxC;MACF,CAAC,CAAC;MACFd,eAAe,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACnC;EACF,CAAC,EAAE,CAACtC,aAAa,EAAEE,YAAY,EAAEZ,aAAa,EAAEC,cAAc,CAAC,CAAC;EAEhE,MAAMwD,UAAU,GAAGxG,WAAW,CAAC,MAAM;IACnC,IAAI2D,YAAY,GAAGF,aAAa,CAACxB,MAAM,GAAG,CAAC,EAAE;MAC3C,MAAMwE,SAAS,GAAGhD,aAAa,CAACE,YAAY,GAAG,CAAC,CAAC;MACjDC,eAAe,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;MAEjClC,gBAAgB,CAACC,OAAO,CAACU,OAAO,CAAC9D,MAAM,IAAI;QACzC,IAAI,CAAC+F,SAAS,CAACH,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC5D,EAAE,KAAKjC,MAAM,CAACiC,EAAE,CAAC,EAAE;UAC5CK,cAAc,CAACtC,MAAM,CAACiC,EAAE,CAAC;QAC3B;MACF,CAAC,CAAC;MACF8D,SAAS,CAACjC,OAAO,CAAC9D,MAAM,IAAI;QAC1B,IAAI,CAACmD,gBAAgB,CAACC,OAAO,CAACwC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC5D,EAAE,KAAKjC,MAAM,CAACiC,EAAE,CAAC,EAAE;UAC3DI,aAAa,CAACrC,MAAM,EAAEA,MAAM,CAACgE,QAAQ,CAAC;QACxC;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACjB,aAAa,EAAEE,YAAY,EAAEZ,aAAa,EAAEC,cAAc,CAAC,CAAC;EAEhE,MAAM0D,eAAe,GAAG1G,WAAW,CAAC,MAAM;IACxC,IAAI6D,gBAAgB,CAACC,OAAO,CAAC7B,MAAM,GAAG,CAAC,EAAE;MACvCyB,gBAAgB,CAACqC,IAAI,IAAI,CAAC,GAAGA,IAAI,CAAC7D,KAAK,CAAC,CAAC,EAAEyB,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGE,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC;MAC7FF,eAAe,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;MAEjClC,gBAAgB,CAACC,OAAO,CAACU,OAAO,CAAC9D,MAAM,IAAIsC,cAAc,CAACtC,MAAM,CAACiC,EAAE,CAAC,CAAC;IACvE;EACF,CAAC,EAAE,CAACgB,YAAY,EAAEX,cAAc,CAAC,CAAC;EAElC,MAAM2D,gBAAgB,GAAG3G,WAAW,CAAC,CAAC4G,OAAO,EAAEC,OAAO,KAAK;IACzDvD,iBAAiB,CAAC;MAAEC,IAAI,EAAEqD,OAAO;MAAEpD,IAAI,EAAEqD;IAAQ,CAAC,CAAC;EACrD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMzF,aAAa,GAAGpB,WAAW,CAAEU,MAAM,IAAK;IAC5C,MAAMgB,QAAQ,GAAGhB,MAAM,CAACgB,QAAQ;IAChC,IAAIA,QAAQ,CAACoF,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC1E,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;MACvD,OAAO,IAAI;IACb,CAAC,MAAM,IAAIZ,QAAQ,CAACoF,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC1E,QAAQ,CAAC,OAAO,CAAC,IAAIyE,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC1E,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAE;MACrG,OAAO,IAAI;IACb,CAAC,MAAM,IAAIZ,QAAQ,CAACoF,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC1E,QAAQ,CAAC,SAAS,CAAC,IAAIyE,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC1E,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;MACrG,OAAO,GAAG;IACZ;IACA,OAAO,IAAI;EACb,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAM2E,SAAS,GAAGlH,OAAO,CAAC,MAAM;IAC9B,MAAMmH,UAAU,GAAGnD,IAAI,CAAC9B,MAAM,GAAG+B,KAAK,CAAC/B,MAAM;IAC7C,MAAMkF,WAAW,GAAGrE,aAAa,CAACb,MAAM,GAAG,CAAC,GACxC,CAACa,aAAa,CAACb,MAAM,GAAGiF,UAAU,GAAG,GAAG,EAAEE,OAAO,CAAC,CAAC,CAAC,GACpD,KAAK;IAET,OAAO;MACLF,UAAU;MACVC,WAAW;MACXE,cAAc,EAAEH,UAAU,GAAGpE,aAAa,CAACb;IAC7C,CAAC;EACH,CAAC,EAAE,CAAC8B,IAAI,CAAC9B,MAAM,EAAE+B,KAAK,CAAC/B,MAAM,EAAEa,aAAa,CAACb,MAAM,CAAC,CAAC;EAErD,oBACE7B,OAAA;IAAKiB,SAAS,EAAC,aAAa;IAAAG,QAAA,gBAC1BpB,OAAA;MAAKiB,SAAS,EAAC,eAAe;MAAAG,QAAA,eAC5BpB,OAAA;QAAKiB,SAAS,EAAC,gBAAgB;QAAAG,QAAA,gBAC7BpB,OAAA;UAAKiB,SAAS,EAAC,eAAe;UAAAG,QAAA,gBAC5BpB,OAAA;YAAAoB,QAAA,EAAI;UAAuB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChC3B,OAAA;YAAAoB,QAAA,EAAG;UAA0C;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,eAEN3B,OAAA;UAAKiB,SAAS,EAAC,eAAe;UAAAG,QAAA,gBAC5BpB,OAAA;YAAKiB,SAAS,EAAC,oBAAoB;YAAAG,QAAA,gBACjCpB,OAAA;cAAAoB,QAAA,GAAO,OAEL,eAAApB,OAAA;gBACEkH,IAAI,EAAC,QAAQ;gBACbC,GAAG,EAAC,GAAG;gBACPC,GAAG,EAAC,IAAI;gBACRC,KAAK,EAAEpE,cAAc,CAACE,IAAK;gBAC3BmE,QAAQ,EAAG9C,CAAC,IAAK+B,gBAAgB,CAACtB,QAAQ,CAACT,CAAC,CAAC+C,MAAM,CAACF,KAAK,CAAC,EAAEpE,cAAc,CAACG,IAAI;cAAE;gBAAA5B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC,eACR3B,OAAA;cAAAoB,QAAA,GAAO,OAEL,eAAApB,OAAA;gBACEkH,IAAI,EAAC,QAAQ;gBACbC,GAAG,EAAC,IAAI;gBACRC,GAAG,EAAC,IAAI;gBACRC,KAAK,EAAEpE,cAAc,CAACG,IAAK;gBAC3BkE,QAAQ,EAAG9C,CAAC,IAAK+B,gBAAgB,CAACtD,cAAc,CAACE,IAAI,EAAE8B,QAAQ,CAACT,CAAC,CAAC+C,MAAM,CAACF,KAAK,CAAC;cAAE;gBAAA7F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEN3B,OAAA;YAAKiB,SAAS,EAAC,iBAAiB;YAAAG,QAAA,gBAC9BpB,OAAA;cACEY,OAAO,EAAEoF,UAAW;cACpBwB,QAAQ,EAAEjE,YAAY,GAAG,CAAE;cAC3BrC,KAAK,EAAC,kBAAkB;cAAAE,QAAA,EACzB;YAED;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3B,OAAA;cACEY,OAAO,EAAEwF,UAAW;cACpBoB,QAAQ,EAAEjE,YAAY,IAAIF,aAAa,CAACxB,MAAM,GAAG,CAAE;cACnDX,KAAK,EAAC,kBAAkB;cAAAE,QAAA,EACzB;YAED;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3B,OAAA;cACEY,OAAO,EAAE0F,eAAgB;cACzBkB,QAAQ,EAAE9E,aAAa,CAACb,MAAM,KAAK,CAAE;cACrCX,KAAK,EAAC,mBAAmB;cACzBD,SAAS,EAAC,WAAW;cAAAG,QAAA,EACtB;YAED;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN3B,OAAA;MAAKiB,SAAS,EAAC,gBAAgB;MAAAG,QAAA,gBAC7BpB,OAAA;QAAKiB,SAAS,EAAC,aAAa;QAAAG,QAAA,gBAC1BpB,OAAA;UAAKiB,SAAS,EAAC;QAAa;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EAClCiC,KAAK,CAAC7B,GAAG,CAAC1B,IAAI,iBACbL,OAAA;UAAgBiB,SAAS,EAAC,YAAY;UAAAG,QAAA,GACnCf,IAAI,CAACoH,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC,KACpC;QAAA,GAFUrH,IAAI;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAET,CACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAELgC,IAAI,CAAC5B,GAAG,CAAC3B,GAAG,iBACXJ,OAAA;QAAeiB,SAAS,EAAC,UAAU;QAAAG,QAAA,gBACjCpB,OAAA;UAAKiB,SAAS,EAAC,WAAW;UAAAG,QAAA,EAAEhB;QAAG;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EACrCiC,KAAK,CAAC7B,GAAG,CAAC1B,IAAI,IAAI;UACjB,MAAMgE,GAAG,GAAG,GAAGjE,GAAG,IAAIC,IAAI,EAAE;UAC5B,MAAMsH,gBAAgB,GAAGxD,iBAAiB,CAACE,GAAG,CAAC;UAC/C,MAAM9D,SAAS,GAAG,CAAAwC,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE3C,GAAG,MAAKA,GAAG,IAAI,CAAA2C,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE1C,IAAI,MAAKA,IAAI;UAExE,oBACEL,OAAA,CAACC,IAAI;YAEH,YAAUG,GAAI;YACd,aAAWC,IAAK;YAChBD,GAAG,EAAEA,GAAI;YACTC,IAAI,EAAEA,IAAK;YACXC,MAAM,EAAEqH,gBAAiB;YACzBpH,SAAS,EAAEA,SAAU;YACrBC,UAAU,EAAE+D,cAAe;YAC3B9D,WAAW,EAAEyE,eAAgB;YAC7BxE,WAAW,EAAEyE,eAAgB;YAC7BxE,MAAM,EAAE2E,UAAW;YACnB1E,OAAO,EAAEkF,eAAgB;YACzBjF,aAAa,EAAEkF,gBAAiB;YAChCjF,YAAY,EAAEA,CAAA,KAAMkC,cAAc,CAAC;cAAE5C,GAAG;cAAEC;YAAK,CAAC,CAAE;YAClDU,YAAY,EAAEA,CAAA,KAAMiC,cAAc,CAAC,IAAI,CAAE;YACzChC,aAAa,EAAEA;UAAc,GAfxBqD,GAAG;YAAA7C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAgBT,CAAC;QAEN,CAAC,CAAC;MAAA,GA3BMvB,GAAG;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA4BR,CACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN3B,OAAA;MAAKiB,SAAS,EAAC,eAAe;MAAAG,QAAA,gBAC5BpB,OAAA;QAAKiB,SAAS,EAAC,YAAY;QAAAG,QAAA,gBACzBpB,OAAA;UAAKiB,SAAS,EAAC,YAAY;UAAAG,QAAA,gBACzBpB,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAe;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnD3B,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAEsB,aAAa,CAACb;UAAM;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC,eACN3B,OAAA;UAAKiB,SAAS,EAAC,YAAY;UAAAG,QAAA,gBACzBpB,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAU;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC9C3B,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,GAAE6B,cAAc,CAACE,IAAI,EAAC,QAAG,EAACF,cAAc,CAACG,IAAI;UAAA;YAAA5B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9E,CAAC,eACN3B,OAAA;UAAKiB,SAAS,EAAC,YAAY;UAAAG,QAAA,gBACzBpB,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAY;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChD3B,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,GACzByF,SAAS,CAACE,WAAW,EAAC,GACzB;UAAA;YAAAvF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eACN3B,OAAA;UAAKiB,SAAS,EAAC,YAAY;UAAAG,QAAA,gBACzBpB,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAgB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpD3B,OAAA;YAAMiB,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAEyF,SAAS,CAACI;UAAc;YAAAzF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN3B,OAAA;QAAKiB,SAAS,EAAC,aAAa;QAAAG,QAAA,gBAC1BpB,OAAA;UAAKiB,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC1BpB,OAAA;YAAMiB,SAAS,EAAC,aAAa;YAAAG,QAAA,EAAC;UAAE;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvC3B,OAAA;YAAAoB,QAAA,EAAM;UAAU;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CAAC,eACN3B,OAAA;UAAKiB,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC1BpB,OAAA;YAAMiB,SAAS,EAAC,aAAa;YAAAG,QAAA,EAAC;UAAE;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvC3B,OAAA;YAAAoB,QAAA,EAAM;UAAW;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACN3B,OAAA;UAAKiB,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC1BpB,OAAA;YAAMiB,SAAS,EAAC,aAAa;YAAAG,QAAA,EAAC;UAAC;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC3B,OAAA;YAAAoB,QAAA,EAAM;UAAkB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACmB,EAAA,CApUIL,UAAU;AAAAmF,GAAA,GAAVnF,UAAU;AAsUhB,eAAeA,UAAU;AAAC,IAAAtC,EAAA,EAAAqC,GAAA,EAAAoF,GAAA;AAAAC,YAAA,CAAA1H,EAAA;AAAA0H,YAAA,CAAArF,GAAA;AAAAqF,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}